---
import Table from "~/components/astro/table";
import {
  Tabs,
  TabsList,
  TabsTrigger,
  TabsContent,
} from "~/components/starwind/tabs";
import { Card, CardContent } from "~/components/starwind/card";
import OEMSpecs from "./shared/OEMSpecs.astro";
import type { PumpController } from "@synoem/payload/payload-types";

const tabs = [
  {
    value: "specifications",
    label: "Specifications",
  },
  {
    value: "oem-information",
    label: "OEM Information",
  },
];

interface Props {
  pumpController: PumpController;
}

const { pumpController } = Astro.props;

const {
  type,
  maxVoltage,
  maxCurrent,
  maxPower,
  startingPressure,
  maxPressure,
  tempRange,
  leadTime,
  moq,
  packagingConfig,
} = pumpController;
---

<Tabs defaultValue="specifications" class="max-w-[400px] lg:max-w-full">
  <TabsList class="overflow-x-auto">
    {
      tabs.map((tab) => (
        <TabsTrigger value={tab.value}>{tab.label}</TabsTrigger>
      ))
    }
  </TabsList>
  <TabsContent value="specifications">
    <Card>
      <CardContent class="p-8">
        <div class="space-y-6 overflow-x-auto">
          <div class="mb-6">
            <Table.Root class="w-full min-w-[300px]">
              <Table.Body>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm w-1/3 md:w-1/2">
                    Type
                  </Table.Cell>
                  <Table.Cell class="py-2 text-sm">
                    {type.toUpperCase()}
                  </Table.Cell>
                </Table.Row>

                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Max Voltage[V]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{maxVoltage.toFixed(2)}</Table.Cell
                  >
                </Table.Row>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Max Current[A]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{maxCurrent.toFixed(2)}</Table.Cell
                  >
                </Table.Row>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Max Power[kW]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{maxPower.toFixed(2)}</Table.Cell
                  >
                </Table.Row>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Starting Pressure[bar]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{startingPressure.toFixed(2)}</Table.Cell
                  >
                </Table.Row>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Max Pressure[bar]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{maxPressure.toFixed(2)}</Table.Cell
                  >
                </Table.Row>
                <Table.Row class="border-b">
                  <Table.Cell class="py-2 font-medium text-sm"
                    >Temperature Range[Â°C]</Table.Cell
                  >
                  <Table.Cell class="py-2 text-sm"
                    >{tempRange.min} ~ {tempRange.max}</Table.Cell
                  >
                </Table.Row>
              </Table.Body>
            </Table.Root>
          </div>
        </div>
      </CardContent>
    </Card>
  </TabsContent>
  <TabsContent value="oem-information">
    <Card>
      <CardContent class="p-8">
        <OEMSpecs
          moq={moq}
          packagingConfig={packagingConfig}
          leadTime={leadTime}
        />
      </CardContent>
    </Card>
  </TabsContent>
</Tabs>
